.options{:style => 'text-align:right; margin-bottom:20px'}
  = link_to 'Add a mapping', '#', :class => 'btn primary', :"data-controls-modal" => "new-mapping", :"data-backdrop" => "static"
%table
  %thead
    %tr
      %th Source Path
      %th Target
      %th
  %tbody
    - @mappings.each do |mapping|
      %tr
        %td= mapping.source_path
        %td= mapping.target
        %td{:style => 'width: 40px'}
          = link_to image_tag('edit.png'), '#', :"data-controls-modal" => "mapping-#{mapping.id}", :"data-backdrop" => "static"
          .div{:id => "mapping-#{mapping.id}", :class => "modal hide fade in", :style => "display: none; "}
            = simple_form_for([:manage, @domain, mapping], :wrapper => :inline) do |f|
              .modal-header
                %a.close{:href => "#"} ×
                %h3 Edit mapping
              .modal-body
                = f.input :source_path, :input_html => { :class => "span6" }, :placeholder => "/example"
                = f.input :target, :input_html => { :class => "span6" }, :placeholder => 'http://www.blekko.com/ws/example'
              .modal-footer
                = f.button :submit, :class => 'primary'
          = link_to image_tag('delete.png'), manage_domain_mapping_path(@domain, mapping), :method => 'DELETE', :confirm => 'Are you sure you wish to delete this mapping?'

#new-mapping.modal.hide.fade.in{:style => "display: none; "}
  = simple_form_for([:manage, @domain, @domain.mappings.new], :wrapper => :inline) do |f|
    .modal-header
      %a.close{:href => "#"} ×
      %h3 Add new mapping
    .modal-body
      = f.input :source_path, :input_html => { :class => "span6" }, :placeholder => "/example"
      = f.input :target, :input_html => { :class => "span6" }, :placeholder => 'http://www.blekko.com/ws/example'
    .modal-footer
      = f.button :submit, :class => 'primary'